<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>新标签页</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div class="wallpaper">
      <div class="wallpaper-mask"></div>
    </div>
    <div class="container">
      <header>
        <nav>
          <div class="nav-links">
            <div class="nav-type active">网页</div>
            <div class="nav-type">图片</div>
            <div class="nav-type">地图</div>
          </div>
          <div class="menu-icon">☰</div>
        </nav>

        <!-- 弹窗遮罩层 -->
        <div class="modal-overlay" id="modalOverlay">
          <!-- 弹窗内容 -->
          <div class="modal-panel" id="modalPanel">
            <div class="close-btn" id="closeBtn">
              <div>×</div>
            </div>
            <div class="modal-content">
              <!-- 主要功能按钮 -->
              <div class="main-actions">
                <div class="action-item" id="addBtn">
                  <div class="action-icon">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="48"
                      height="48"
                      viewBox="0 0 48 48"
                    >
                      <g
                        fill="none"
                        stroke="currentColor"
                        stroke-linejoin="round"
                        stroke-width="4"
                      >
                        <rect width="36" height="36" x="6" y="6" rx="3" />
                        <path stroke-linecap="round" d="M24 16v16m-8-8h16" />
                      </g>
                    </svg>
                  </div>
                  <span>添加</span>
                </div>
                <div class="action-item" id="settingsBtn">
                  <div class="action-icon">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="48"
                      height="48"
                      viewBox="0 0 1024 1024"
                    >
                      <path
                        fill="currentColor"
                        d="M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357 357 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a352 352 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357 357 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294 294 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293 293 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294 294 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288 288 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293 293 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a288 288 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"
                      />
                    </svg>
                  </div>
                  <span>设置</span>
                </div>
              </div>

              <!-- 添加面板 -->
              <div class="add-panel" id="addPanel" style="display: none">
                <!-- 添加表单 -->
                <div class="add-form" id="addForm">
                  <h3>添加网站</h3>
                  <div class="form-group">
                    <label for="siteUrl"
                      ><span class="required">*</span>网站地址<span
                        class="error-message"
                        id="urlError"
                      ></span
                    ></label>
                    <input
                      type="url"
                      id="siteUrl"
                      placeholder="https://www.bilibili.com"
                      required
                    />
                  </div>
                  <div class="form-group">
                    <label for="siteName"
                      >网站名称<span class="error-message" id="nameError"></span
                    ></label>
                    <input
                      type="text"
                      id="siteName"
                      placeholder="输入完整网站地址自动获取"
                      required
                    />
                  </div>
                  <div class="form-actions">
                    <button type="button" class="next-btn" id="nextBtn">
                      下一步
                    </button>
                  </div>
                </div>

                <!-- 图标选择 -->
                <div
                  class="icon-selection"
                  id="iconSelection"
                  style="display: none"
                >
                  <div class="selection-header">
                    <button class="back-btn" id="backToForm">←</button>
                    <h3>选择图标</h3>
                  </div>
                  <div class="icon-options">
                    <div class="icon-option" data-type="auto">
                      <div class="icon-preview auto-icon">自</div>
                      <span>自动获取</span>
                    </div>
                    <div class="icon-option" data-type="text">
                      <div class="icon-preview text-icon" id="textIconPreview">
                        哔
                      </div>
                      <span>文字图标</span>
                    </div>
                    <div class="icon-option" data-type="color">
                      <div class="icon-preview color-icon"></div>
                      <span>纯色背景</span>
                    </div>
                    <div class="icon-option" data-type="upload">
                      <div class="icon-preview upload-icon">📁</div>
                      <span>上传图片</span>
                    </div>
                  </div>
                  <div
                    class="icon-config"
                    id="iconConfig"
                    style="display: none"
                  ></div>
                  <div class="form-actions">
                    <button
                      type="button"
                      class="save-btn"
                      id="saveBtn"
                      disabled
                    >
                      保存
                    </button>
                  </div>
                </div>
              </div>

              <!-- 设置面板 -->
              <div
                class="settings-panel"
                id="settingsPanel"
                style="display: none"
              >
                <!-- 模式选择 -->
                <div class="mode-selection">
                  <div class="mode-option active" data-mode="standard">
                    <span>标准模式</span>
                  </div>
                  <div class="mode-option" data-mode="minimal">
                    <span>极简模式</span>
                  </div>
                </div>

                <!-- 标准模式设置 -->
                <div class="standard-settings" id="standardSettings">
                  <div class="setting-group">
                    <h4>壁纸</h4>
                    <div class="wallpaper-preview">
                      <img
                        id="wallpaperPreview"
                        src="../images/6979.webp"
                        alt="当前壁纸"
                      />
                      <div class="setting-wallpaper-mask">
                        <button class="wallpaper-btn" id="changeWallpaperBtn">
                          更换壁纸
                        </button>
                      </div>
                    </div>
                  </div>

                  <div class="setting-group">
                    <h4>遮罩浓度</h4>
                    <div class="slider-container">
                      <input
                        type="range"
                        id="maskOpacitySlider"
                        min="0"
                        max="100"
                        value="40"
                        class="slider"
                      />
                      <span class="slider-value">40%</span>
                    </div>
                  </div>

                  <div class="setting-group">
                    <h4>模糊度</h4>
                    <div class="slider-container">
                      <input
                        type="range"
                        id="blurSlider"
                        min="0"
                        max="100"
                        value="10"
                        step="1"
                        class="slider"
                      />
                      <span class="slider-value">10%</span>
                    </div>
                  </div>

                  <div class="setting-group">
                    <h4>数据管理</h4>
                    <div class="data-management">
                      <button class="export-btn" id="exportBtn">导出配置</button>
                      <button class="github-sync-btn" id="githubSyncBtn">Github同步</button>
                    </div>
                  </div>

                  <!-- Github同步配置面板 -->
                  <div class="github-sync-panel" id="githubSyncPanel" style="display: none;">
                    <h4>Github同步配置</h4>
                    <div class="form-group">
                      <label for="githubUsername">Github用户名</label>
                      <input type="text" id="githubUsername" placeholder="输入Github用户名" />
                    </div>
                    <div class="form-group">
                      <label for="githubRepo">私有仓库名</label>
                      <input type="text" id="githubRepo" placeholder="输入仓库名" />
                    </div>
                    <div class="form-group">
                      <label for="githubBranch">分支名</label>
                      <input type="text" id="githubBranch" placeholder="main" value="main" />
                    </div>
                    <div class="form-group">
                      <label for="githubToken">访问令牌</label>
                      <input type="password" id="githubToken" placeholder="输入Github访问令牌" />
                    </div>
                    <div class="github-actions">
                      <button class="upload-btn" id="uploadToGithub">上传到Github</button>
                      <button class="download-btn" id="downloadFromGithub">从Github下载</button>
                      <button class="cancel-btn" id="cancelGithubSync">取消</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="search-bar">
          <div class="search-icon"></div>
          <input type="text" placeholder="输入并搜索" />
          <div class="search-suggestions-wrap">
            <div class="search-suggestions"></div>
          </div>
        </div>
      </header>
      <main>
        <div class="app-grids-container">
          <!-- 多个app-grid-wrap将由JavaScript动态生成 -->
        </div>
      </main>
      <div class="pagination-dots">
        <!-- 分页点将由JavaScript动态生成 -->
      </div>
      <footer>
        <div class="windmill-container">
          <img
            src="../images/windmill.svg"
            alt="Windmill"
            class="windmill-top"
          />
          <span class="windmill-stalk"></span>
        </div>
      </footer>
    </div>
    <script src="index.js"></script>
  </body>
</html>
